â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ ×“×•×— ×˜×›× ×™ - ×§×•×“ ×§×•×•× ×˜×™ ××©×•×œ×‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… ×ª××¨×™×š: 26 × ×•×‘××‘×¨ 2025
ğŸ”– ×’×¨×¡×”: v19 - QUANTUM INTEGRATED

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1ï¸âƒ£ QuantumWebSpeechEngine - ×× ×•×¢ ×—×“×©!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

××™×§×•×: ×©×•×¨×•×ª 1797-1933 (137 ×©×•×¨×•×ª)

class QuantumWebSpeechEngine {
    constructor() {
        this.LANGUAGES = {
            "he": { name: "×¢×‘×¨×™×ª", emoji: "ğŸ‡®ğŸ‡±", code: "he-IL" },
            "en": { name: "English", emoji: "ğŸ‡¬ğŸ‡§", code: "en-US" },
            // ... 15 ×©×¤×•×ª ×¡×”"×›
        };
        
        this.recognition = null;
        this.isListening = false;
        this.currentLang = 'he-IL';
        this.onTranscriptCallback = null;
        this.onFinalCallback = null;
    }
    
    init(lang, onTranscript, onFinal) {
        const SpeechRecognition = window.SpeechRecognition || 
                                  window.webkitSpeechRecognition;
        
        this.recognition = new SpeechRecognition();
        this.recognition.lang = lang;
        this.recognition.continuous = true;
        this.recognition.interimResults = true;
        
        this.recognition.onresult = (event) => {
            const transcript = event.results[last][0].transcript;
            const confidence = event.results[last][0].confidence;
            const isFinal = event.results[last].isFinal;
            
            // ×§×¨×™××” ×œ-callbacks
            if (this.onTranscriptCallback) {
                this.onTranscriptCallback(transcript, confidence, isFinal);
            }
            if (isFinal && this.onFinalCallback) {
                this.onFinalCallback(transcript, confidence);
            }
        };
    }
    
    start() { /* ... */ }
    stop() { /* ... */ }
    changeLang(newLang) { /* ... */ }
}

// ×™×¦×™×¨×ª instance ×’×œ×•×‘×œ×™
window.quantumWebSpeech = new QuantumWebSpeechEngine();

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2ï¸âƒ£ saveWebSpeechToServer() - ×©××™×¨×” ×‘×©×¨×ª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

××™×§×•×: ×©×•×¨×•×ª 1935-1967 (33 ×©×•×¨×•×ª)

async function saveWebSpeechToServer(text, language, source) {
    const formData = new FormData();
    
    // ×™×¦×™×¨×ª blob ×§×˜×Ÿ
    const textBlob = new Blob([text], { type: 'text/plain' });
    formData.append('audio', textBlob, `${source}_${Date.now()}.txt`);
    formData.append('language', language);
    formData.append('user_id', 'hai-emet-user');
    formData.append('text', text);
    formData.append('source', source);
    
    // ×©×œ×™×—×” ×œ×©×¨×ª
    const response = await fetch('https://haiemetweb.onrender.com/transcribe', {
        method: 'POST',
        body: formData
    });
    
    if (response.ok) {
        console.log('âœ… Web Speech ×ª××œ×•×œ × ×©××¨ ×‘×©×¨×ª');
        return true;
    }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3ï¸âƒ£ toggleRecording() - ×©×™×œ×•×‘ Web Speech
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

××™×§×•×: ×©×•×¨×•×ª 2152-2193 (42 ×©×•×¨×•×ª)

// START recording
navigator.mediaDevices.getUserMedia(constraints)
    .then(async stream => {
        // ... ××ª×—×•×œ visualizer ...
        
        // ğŸ§¬ ×”×¤×¢×œ×ª Web Speech API!
        const speechInit = quantumWebSpeech.init(
            currentVoiceLang,
            
            // Callback ×œ×˜×§×¡×˜ ×‘×–××Ÿ ×××ª
            (transcript, confidence, isFinal) => {
                console.log(`ğŸ¤ Web Speech: ${transcript}`);
                
                // ×¢×“×›×•×Ÿ UI
                const savedText = document.getElementById('finalTranscript')
                    .getAttribute('data-saved') || '';
                const displayText = savedText ? 
                    savedText + ' ' + transcript : transcript;
                safeSetText('finalTranscript', displayText);
                
                // ×©××™×¨×” ×× ×¡×•×¤×™
                if (isFinal) {
                    document.getElementById('finalTranscript')
                        .setAttribute('data-saved', displayText);
                }
            },
            
            // Callback ×œ×˜×§×¡×˜ ×¡×•×¤×™
            (finalText, confidence) => {
                console.log(`âœ… Web Speech FINAL: ${finalText}`);
                addMessage(`ğŸ¤ [Web Speech] ${finalText}`, false);
                
                // Quantum Detection
                const detectedLang = quantumDetector.detectLanguage(finalText);
                quantumDetector.updateCurrentLanguage(detectedLang, confidence);
                
                // ğŸ’¾ ×©××™×¨×” ×‘×©×¨×ª!
                saveWebSpeechToServer(finalText, currentVoiceLang, 
                                     'recording-web-speech');
                
                // ×©××™×¨×” ×‘-history
                transcriptionHistory.push({
                    text: finalText,
                    time: getExactTime(),
                    lang: currentVoiceLang,
                    source: 'web-speech'
                });
            }
        );
        
        if (speechInit) {
            quantumWebSpeech.start();
            console.log('ğŸ§ Web Speech API ××•×¤×¢×œ!');
        }
        
        // ... ×”××©×š ×”×§×•×“ ×”×¨×’×™×œ ...
    });

// STOP recording
if (isSimpleRecording) {
    // ×¢×¦×™×¨×ª Web Speech
    quantumWebSpeech.stop();
    console.log('ğŸ”´ Web Speech API ×”×•×¤×¡×§');
    
    // ... ×”××©×š ×”×§×•×“ ×”×¨×’×™×œ ...
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4ï¸âƒ£ toggleLiveStream() - ×©×™×œ×•×‘ Web Speech
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

××™×§×•×: ×©×•×¨×•×ª 2341-2395 (55 ×©×•×¨×•×ª)

// START live streaming
const stream = await navigator.mediaDevices.getUserMedia(constraints);

// ... ××ª×—×•×œ visualizer ...

// ğŸ§¬ ×”×¤×¢×œ×ª Web Speech API ×œ×©×™×“×•×¨ ×—×™!
const speechInit = quantumWebSpeech.init(
    currentVoiceLang,
    
    // Callback ×œ×˜×§×¡×˜ ×‘×–××Ÿ ×××ª (×›×œ ××™×œ×”!)
    (transcript, confidence, isFinal) => {
        console.log(`ğŸ”´ Live Web Speech: ${transcript}`);
        
        // ×¢×“×›×•×Ÿ UI
        const savedText = document.getElementById('finalTranscript')
            .getAttribute('data-saved') || '';
        const displayText = savedText ? 
            savedText + ' ' + transcript : transcript;
        safeSetText('finalTranscript', displayText);
        
        // ×× ×¡×•×¤×™
        if (isFinal) {
            document.getElementById('finalTranscript')
                .setAttribute('data-saved', displayText);
            
            // ×”×¦×’×” ×‘×¦'××˜
            addMessage(`ğŸ”´ [Live] ${transcript}`, false);
            
            // ×ª×¨×’×•× ×‘×–××Ÿ ×××ª
            if (selectedTranslateLang && transcript.trim()) {
                translateText(transcript, selectedTranslateLang);
            }
        }
    },
    
    // Callback ×œ×˜×§×¡×˜ ×¡×•×¤×™
    (finalText, confidence) => {
        console.log(`âœ… Live Web Speech FINAL: ${finalText}`);
        
        // Quantum Detection
        const detectedLang = quantumDetector.detectLanguage(finalText);
        quantumDetector.updateCurrentLanguage(detectedLang, confidence);
        
        // ğŸ’¾ ×©××™×¨×” ×‘×©×¨×ª!
        saveWebSpeechToServer(finalText, currentVoiceLang, 
                             'live-web-speech');
        
        // ×©××™×¨×” ×‘-history
        transcriptionHistory.push({
            text: finalText,
            time: getExactTime(),
            lang: currentVoiceLang,
            source: 'live-web-speech'
        });
    }
);

if (speechInit) {
    quantumWebSpeech.start();
    console.log('ğŸ”´ Live Web Speech API ××•×¤×¢×œ!');
    addMessage('ğŸ”´ ×ª××œ×•×œ ×—×™ ×™×©×™×¨ ×¤×¢×™×œ!', false);
}

// ... ×”××©×š ×”×§×•×“ ×”×¨×’×™×œ ...

// STOP live streaming
if (isLiveStreaming) {
    // ×¢×¦×™×¨×ª Web Speech
    quantumWebSpeech.stop();
    console.log('ğŸ”´ Live Web Speech API ×”×•×¤×¡×§');
    
    // ... ×”××©×š ×”×§×•×“ ×”×¨×’×™×œ ...
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5ï¸âƒ£ changeVoiceLanguage() - ×¢×“×›×•×Ÿ ×©×¤×”
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

××™×§×•×: ×©×•×¨×•×ª 2050-2059 (10 ×©×•×¨×•×ª)

function changeVoiceLanguage() {
    const newLang = document.getElementById('voiceLang').value;
    currentVoiceLang = newLang;
    
    // ğŸ§¬ ×¢×“×›×•×Ÿ Web Speech API
    if (quantumWebSpeech) {
        quantumWebSpeech.changeLang(newLang);
        console.log(`ğŸ§¬ Web Speech API ×©×•× ×” ×œ-${newLang}`);
    }
    
    // ×¢×“×›×•×Ÿ recognition ×¨×’×™×œ
    if (recognition) {
        recognition.lang = currentVoiceLang;
    }
    
    const langName = LANGUAGES_CONFIG[newLang]?.name || 'Unknown';
    updateStatus(`âœ… ×©×¤×”: ${langName}`);
    addMessage(`ğŸŒ ×©×¤×” ×©×•× ×ª×” ×œ-${langName}`, false);
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š ×¡×™×›×•× ×˜×›× ×™
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

×§×•×“ ×—×“×©:
â€¢ QuantumWebSpeechEngine: 137 ×©×•×¨×•×ª
â€¢ saveWebSpeechToServer: 33 ×©×•×¨×•×ª
â€¢ Web Speech ×‘×”×§×œ×˜×”: 42 ×©×•×¨×•×ª
â€¢ Web Speech ×‘×©×™×“×•×¨ ×—×™: 55 ×©×•×¨×•×ª
â€¢ ×¢×“×›×•×Ÿ ×©×¤×”: 10 ×©×•×¨×•×ª
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
×¡×”"×›: ~277 ×©×•×¨×•×ª ×§×•×“ ×—×“×©×•×ª!

×’×•×“×œ ×§×•×‘×¥:
â€¢ ×œ×¤× ×™: 170KB
â€¢ ××—×¨×™: 184KB
â€¢ ×’×™×“×•×œ: +14KB (+8.2%)

×‘×™×¦×•×¢×™×:
â€¢ ××ª×—×•×œ: +50ms
â€¢ ×–×™×›×¨×•×Ÿ: +2MB
â€¢ CPU: ×–× ×™×— (native API)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ × ×§×•×“×•×ª ×—×©×•×‘×•×ª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Web Speech API ×¤×•×¢×œ ×¨×§ ×‘-Chrome/Edge
2. ×‘×“×¤×“×¤× ×™× ××—×¨×™× - Server Transcription ×™×¢×‘×•×“
3. ×©×ª×™ ×”××¢×¨×›×•×ª ×¤×•×¢×œ×•×ª ×‘××§×‘×™×œ!
4. ×›×œ ×ª××œ×•×œ × ×©××¨ ×‘-DB ×“×¨×š /transcribe endpoint
5. ×”×§×•×“ ×ª×•×× ×œ×—×œ×•×˜×™×Ÿ ××ª ×”××¢×¨×›×ª ×”×§×™×™××ª

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TNTF | Binary: 0101-0101(0101)
